
window.onload = function(){
    var botMen = document.getElementById("iOpc--bottom");
    var opcs = document.getElementById("list-special");

    botMen.addEventListener("click", function(event){
        
      console.log(event.target);  
      var menu = document.getElementById("iOpc"); 
    
      /*   menu.style.display = menu.style.display == "block" ? "none" : "block"; */
      if(menu.style.display == "block"){
        menu.style.animationName = "menSumir";
        menu.style.animationDuration = "0.5s";
        
        const linhas = document.querySelectorAll('.opc__ul li');
        
        if(linhas.classList != null) remoneline(linhas);

        for (let i = linhas.length - 1; i >= 0; i--) {
          setTimeout(() => {
            linhas[i].classList.add('aniSum');
          }, 30 * (linhas.length - i));
        }
        
        opcs.style.display = "none";
        opcs.style.position = "absolute";
    
        setTimeout(function(){
            menu.style.display = "none";
            menu.style.height = "0";
        }, 300);
    
      }
      else{
        const linhas = document.querySelectorAll('.opc__ul li');
        
        if(linhas[0].classList != '') remoneline(linhas);
        console.log(linhas[0].classList);

        let index = 0;
        const intervalo = setInterval(() => {
          if (index >= linhas.length) {
            clearInterval(intervalo);
            return;
          }
          linhas[index].classList.add('aniApa');
          index++;
        }, 40);
    
        menu.style.display = "block";
        menu.style.animationName = "menApa";
        menu.style.animationDuration = "0.4s";
    
        setTimeout(function(){ 
            menu.style.height = "auto";
        }, 300);
      }
    

      /* 
        animation-name: men;
        animation-duration: 4s; /* 4 segundos 
        animation-fill-mode: forwards; /* faz parar no final 
      */

        
    });

    var botSpec = document.getElementById("bottom-special");
    botSpec.addEventListener("click", function(){
        
        console.log(event.targer);
        opcs.style.display = opcs.style.display == "block" ? "none" : "block";
        opcs.style.position = opcs.style.position == "relative" ? "absolute" : "relative";

    })
}


function remoneline(val){
  for(var i = 0; i < val.length; i++){
    val[i].classList = '';
    console.log(val[i].classList);
  } 
  console.log(event.target);
}
/* var li = document.getElementById("list");
li.addEventListener("click", function(event) {
    console.log(event.target); // este é o elemento clicado
    alert('O elemento clicado foi o ' + this.target.innerHTML);

    // dentro desta função o "this" refere-se ao <li>
}) */

/* mostra_menu(){

} */